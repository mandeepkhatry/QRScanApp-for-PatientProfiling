{% load staticfiles %}
<html>
    <head>
       <script type="text/javascript" src="{% static 'instascan.min.js' %}"></script>
    </head>

    <body>
        <div align="left">
            <video id="preview" height="500px" width="500px"></video>
        </div>

    </body>
    <script type="text/javascript">
        let scanner = new Instascan.Scanner({ video: document.getElementById('preview') });

        //scan content
        scanner.addListener('scan', function (content) {
            //scanned content decoded from QR is saved in content
            var userid = content;
            console.log(userid);
        });

        //enumerate available camera
        Instascan.Camera.getCameras().then(function (cameras) {
        if (cameras.length > 0) {
            scanner.start(cameras[0]);
        } else {
            console.error('No cameras found.');
        }
        }).catch(function (e) {
            console.error(e);
        });
    </script>


</html>
